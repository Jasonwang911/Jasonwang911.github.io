(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{612:function(s,e,a){"use strict";a.r(e);var t=a(6),r=Object(t.a)({},(function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("Boxx",{attrs:{type:"warning",changeTime:"30000"}}),s._v(" "),a("h1",{attrs:{id:"docker-compose"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-compose"}},[s._v("#")]),s._v(" Docker compose")]),s._v(" "),a("ol",[a("li",[s._v("基于docker和docker-compose")]),s._v(" "),a("li",[s._v("通过一个配置文件，就可以让你的系统一键启动所有的运行环境: eg node mysql mongodb redis")])]),s._v(" "),a("h1",{attrs:{id:"主要概念"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#主要概念"}},[s._v("#")]),s._v(" 主要概念")]),s._v(" "),a("blockquote",[a("p",[s._v("软件设计和开发，有单一职责原则。Docker也一样，每个容器都只负责一个服务"),a("br"),s._v("\n如果开发环境需要多个服务（node mysql nongodb redis），就需要启动多个Docker容器"),a("br"),s._v("\n要连同这多个docker容器，就需要docker-compose")])]),s._v(" "),a("h2",{attrs:{id:"安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[s._v("#")]),s._v(" 安装")]),s._v(" "),a("ol",[a("li",[s._v("pip 安装")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("yum install python-pip   \nyum -y install epel-release   \nyum -y install python-pip   \npip --version    \npip install --upgrade pip   \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("如果报错执行以下操作")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('# Command "python setup.py egg_info" failed with error code 1 in /tmp/pip-build-A5acXn/importlib-metadata/   \nrpm -Uvh https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm\n\nyum -y install python3-pip -y    \n\npip3 install -i https://pypi.tuna.tsinghua.edu.cn/simple pip -U    \n\n# 重启机器     \nreboot\n   \npip --version  \n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("ol",{attrs:{start:"2"}},[a("li",[s._v("安装 docker-compose")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("pip install docker-compose    \n\ndocker-compose version   \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h2",{attrs:{id:"配置文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置文件"}},[s._v("#")]),s._v(" 配置文件")]),s._v(" "),a("p",[s._v("新建 docker-compose.yml 文件")]),s._v(" "),a("h2",{attrs:{id:"常用命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常用命令"}},[s._v("#")]),s._v(" 常用命令")]),s._v(" "),a("ol",[a("li",[s._v("构建容器 docker-compose build service-name")]),s._v(" "),a("li",[s._v("启动所有服务器 docker-compose up -d  后台启动 -d")]),s._v(" "),a("li",[s._v("停止所有服务 docker-compose down")]),s._v(" "),a("li",[s._v("查看服务（当前docker-compose配置文件下的所有服务） docker-compose ps")])]),s._v(" "),a("h1",{attrs:{id:"使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用"}},[s._v("#")]),s._v(" 使用")]),s._v(" "),a("h3",{attrs:{id:"docker-compose-配置-mysql"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-compose-配置-mysql"}},[s._v("#")]),s._v(" docker-compose 配置 MySQL")]),s._v(" "),a("h3",{attrs:{id:"docker-compose-配置-mongodb"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-compose-配置-mongodb"}},[s._v("#")]),s._v(" docker-compose 配置 Mongodb")])],1)}),[],!1,null,null,null);e.default=r.exports}}]);