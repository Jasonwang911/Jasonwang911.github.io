(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{555:function(s,n,a){"use strict";a.r(n);var t=a(2),e=Object(t.a)({},(function(){var s=this,n=s._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h2",{attrs:{id:"travis自动部署github-io"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#travis自动部署github-io"}},[s._v("#")]),s._v(" Travis自动部署GitHub.io")]),s._v(" "),n("p",[s._v("我们想要的是，git上存放我们的项目，即markdown文件，我们可以随时修改这些markdown然后push到线上，我们的github Pages则会相应的显示编译好的html。")]),s._v(" "),n("h3",{attrs:{id:"引入"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#引入"}},[s._v("#")]),s._v(" 引入")]),s._v(" "),n("p",[s._v("Travis CI的作用是可以监控到我们git资源库的每一次变更,在收到push请求后会为我们提供一个虚拟机来帮助我们执行一些任务，比如我们文档的build以及发布。")]),s._v(" "),n("p",[s._v("这样一来我们把修改好的markdown推到线上后，travis会帮我们自动执行deploy.sh里的脚本。我们就可以只专注于文档本身的内容，也方便文档的维护。")]),s._v(" "),n("h4",{attrs:{id:"分支-vuepress-pages"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#分支-vuepress-pages"}},[s._v("#")]),s._v(" 分支  vuepress-pages")]),s._v(" "),n("p",[s._v("https://chengyuming.cn/views/other/intro.html#%E9%A1%B9%E7%9B%AE%E9%87%8C%E9%9D%A2%E9%85%8D%E7%BD%AE%E8%87%AA%E5%8A%A8%E5%8C%96%E9%83%A8%E7%BD%B2")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("  # .travis.yml 文件如下\n  sudo: required\n  language: node_js\n  node_js: stable\n  script: bash ./deploy.sh\n  branches:\n    only:\n      - master\n  notifications:\n    email: false\n\n  # deploy.sh 修改后的\n\n  #!/usr/bin/env sh\n  # 确保脚本抛出遇到的错误\n  set -e\n  npm install -g vuepress@next\n  # 生成静态文件\n  npm run build\n  # 进入生成的文件夹\n  cd docs/.vuepress/dist\n  # 如果是发布到自定义域名\n  # echo 'www.example.com' > CNAME\n  git init\n  git add -A\n  git commit -m 'deploy'\n  # 如果发布到 https://<USERNAME>.github.io\n  git push -f https://${blog}@${address} master:master\n  # 如果发布到 https://<USERNAME>.github.io/<REPO>\n  # git push -f git@github.com:<USERNAME>/<REPO>.git master:gh-pages\n  cd -\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br")])])])}),[],!1,null,null,null);n.default=e.exports}}]);